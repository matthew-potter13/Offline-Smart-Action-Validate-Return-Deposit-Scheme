function runAction(e){e.data.message="";let a=0,d=!0;return e.data.related.OrderItem.forEach(t=>{e.data.related.aforza__Relationship_Rule__c.forEach(r=>{e.data.related.Product2.forEach(u=>{t.Product2Id===r.aforza__Source_Product__c&&t.Product2Id===u.Id&&u.ProductCode!=="DRS-001"&&(a+=t.Quantity*r.aforza__Quantity__c-1,d=!1)})})}),d?e.data.related.OrderItem=null:e.data.related.OrderItem.forEach(t=>{e.data.related.Product2.forEach(r=>{t.Product2Id===r.Id&&r.ProductCode==="DRS-001"&&(t.Quantity=a)})}),e.data.message+="Your Deposit Return Scheme has been validated",e.data.message===""&&(e.data.error="An Error has occured",e.data.message=null),e.data.updateDeviceData=!0,e.data.updateDeviceData.Order=!0,e.data.updateDeviceData.OrderIem=!0,e.data.reprice=!0,e}
