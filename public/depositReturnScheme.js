function runAction(e){e.data.message="";let r=new Map,a=new Map;return e.data.related.OrderItem.forEach(t=>{r.set(t.Product2Id,t.Quantity)}),e.data.related.aforza__Relationship_Rule__c.forEach(t=>{if(t.aforza__Type__c==="Addition"){let u=new Map;u.sourceProduct=t.aforza__Source_Product__c,u.quantity=t.aforza__Quantity__c,a.set(t.aforza__Target_Product__c,u)}}),e.data.related.OrderItem.forEach(t=>{a.has(t.Product2Id)&&(r.has(a.get(t.Product2Id).get("sourceProduct"))?t.Quantity=r.get(a.get(t.Product2Id).get("sourceProduct"))*a.get(t.Product2Id).get("quantity"):t=null)}),e.data.message+="Your Deposit Return Scheme has been validated",e.data.updateDeviceData=!0,e.data.updateDeviceData.Order=!0,e.data.updateDeviceData.OrderIem=!0,e.data.reprice=!0,e}
