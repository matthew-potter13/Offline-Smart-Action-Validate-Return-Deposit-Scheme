function runAction(a){a.data.message="";let _=new Map,e=new Map;return a.data.related.OrderItem.forEach(t=>{_.set(t.Product2Id,t.Quantity)}),a.data.related.aforza__Relationship_Rule__c.forEach(t=>{t.aforza__Type__c==="Addition"&&(e.has(t.aforza__Source_Product__c)?e.set(t.aforza__Source_Product__c,e.get(t.aforza__Target__c)+t.aforza__Quantity__c):e.set(t.aforza__Source_Product__c,t))}),a.data.related.OrderItem.forEach(t=>{e.has(t.Product2Id)&&(_.has(e.get(t.Product2Id).aforza__Source_Product__c)?t.Quantity=_.get(e.get(t.Product2Id).aforza__Source_Product__c)*e.get(t.Product2Id).aforza__Quantity__c:t.Quantity=null)}),a.data.message+="Your Deposit Return Scheme has been validated",a.data.updateDeviceData=!0,a.data.updateDeviceData.Order=!0,a.data.updateDeviceData.OrderIem=!0,a.data.reprice=!0,a}
